
main.container
	.row
		
		main.col-xs-12.col-md-8
			
			section.post-new.panel.panel-success(ng-show!="!query && togNew")
				
				.panel-heading
					.panel-title Create Post
				
				.panel-body
					
					.form-group
						label(for="_new-title") Title
						input#_new-title.input-lg.form-control(
						type="text"
						ng-model="postNew.title"
						)
					
					.form-group
						label(for="_new-content") Content
						textarea#_new-content.form-control(
						style="min-height:20em;"
						mg-model="postNew.content_raw"
						)
					
					
					.btn-group.btn-group-lg.pull-right
						button.btn.btn-default(
						ng-click="togNew = !togNew"
						) Cancel
						
						button.btn.btn-success(
						ng-click="save()"
						) Save
						
				
			section.post(
			ng-repeat="post in posts | filter:query | orderBy:sort:sortRev"
			)
				.page-header
					h2
						a(href="#/posts/{{post.ID}}") {{post.title}}
						small  by {{post.author.name}}
					
					article.post-content(ng-bind-html="post.content")
					
					.btn-group
						a.btn.btn-primary(href="#/posts/{{post.ID}}") Read More
			
		aside.hide-xs.col-md-4
			.btn-group(ng-hide="togNew")
				button.btn.btn-success(ng-click="togNew = !togNew") New Post
				
			.btn-group(ng-show="togNew")
				button.btn.btn-default(ng-click="togNew = !togNew") Cancel
				
			hr
			
			.form-group
				label(for="_search") Search
				input#_search.form-control(
				type="text"
				ng-model="query"
				placeholder="Search..."
				autofocus
				)
			
			.form-group
				label(for="_sort") Sort By
				select#_sort.form-control(ng-model="sort")
					option(value="date") Date Created
					option(value="modified") Last Modified
					option(value="title") Title
					
			.checkbox
				label
					input(type="checkbox", ng-model="sortRev")
					| Reverse order?
				
			hr
			
			#sidebar(ng-bind-html="sidebar")
